# DO NOT REMOVE. CLOUDLINUX PASSENGER CONFIGURATION BEGIN
PassengerAppRoot "/home/siglotecno2/gestioneventos.siglotecnologico.com/GestionEventos"
PassengerBaseURI "/"
PassengerPython "/home/siglotecno2/virtualenv/gestioneventos.siglotecnologico.com/GestionEventos/3.12/bin/python"
# DO NOT REMOVE. CLOUDLINUX PASSENGER CONFIGURATION END

# DO NOT REMOVE OR MODIFY. CLOUDLINUX ENV VARS CONFIGURATION BEGIN
<IfModule Litespeed>
</IfModule>
# DO NOT REMOVE OR MODIFY. CLOUDLINUX ENV VARS CONFIGURATION END

# Configuración para servir el frontend
RewriteEngine On

# Las peticiones /api/* son manejadas por Passenger (backend Python)
# No hacer rewrite para /api, dejar que Passenger las procese
RewriteCond %{REQUEST_URI} ^/api
RewriteRule ^ - [L]

# Si es un archivo estático (assets del frontend), servirlo directamente
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# Si es un directorio que existe, servirlo directamente  
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Para todas las demás rutas (frontend), servir desde frontend/dist
RewriteCond %{REQUEST_URI} !^/api
RewriteCond %{REQUEST_URI} !^/frontend
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ frontend/dist/$1 [L]

# Si la petición es la raíz, servir index.html del frontend
RewriteCond %{REQUEST_URI} ^/$
RewriteRule ^$ frontend/dist/index.html [L]
